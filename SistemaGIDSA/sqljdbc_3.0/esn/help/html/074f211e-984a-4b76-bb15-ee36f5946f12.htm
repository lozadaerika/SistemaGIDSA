<html DIR="LTR" xmlns:tool="http://www.microsoft.com/tooltip" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
  <head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8" />
    <META NAME="save" CONTENT="history" />
    <title>Novedades del controlador JDBC</title>
    
    <link rel="stylesheet" type="text/css" href="../local/Classic.css">
      
    </link>
    
    <script src="../local/script.js">
      
    </script><script src="../local/script_main.js">&amp;nbsp;</script>
  </head>
  <body>
    <!--Topic built:03/31/2010 01:26:27-->

    
    
    
    
    
    
    
    
    
    <div id="header">
      <table width="100%" id="topTable"><tr>
          <td align="left">
            <span id="headerBold">Novedades del controlador JDBC</span>
          </td>
          <td align="right">
            
          </td>
        </tr></table>
      
      
      
    </div>
    <div id="mainSection">
      
        
        
    <font color="DarkGray">
      
    </font>
    <p />
    
    <p />
  
        <div id="introductionSection" class="section">
    <p>En las secciones siguientes se describen las características nuevas del controlador JDBC de Microsoft SQL Server.</p>
  </div><h1 class="heading">Novedades de la versión 3.0 del controlador JDBC</h1><div id="sectionSection0" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <p xmlns="">
        El controlador JDBC 3.0 de Microsoft SQL Server incorpora varias características y mejoras nuevas.</p>
    </content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <h1 class="heading" xmlns="">Nombre del controlador</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">La nueva versión del controlador JDBC es el controlador JDBC 3.0 de Microsoft SQL Server.</p>
        </content></div>
      <h1 class="heading" xmlns="">Compatibilidad con los tipos de datos de fecha y hora de SQL Server 2008 que se introdujeron en SQL Server 2008</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">El controlador JDBC 3.0 de Microsoft SQL Server ahora admite los siguientes tipos de datos SQL Server:</p>
          <ul xmlns=""><li>
              
                <b>time</b>
              <br />
            </li><li>
              
                <b>date</b>
              <br />
            </li><li>
              
                <b>datetime2</b>
              <br />
            </li><li>
              
                <b>datetimeoffset</b>
              <br />
            </li></ul>
          <p xmlns="">Para obtener más información acerca de estos tipos de SQL Server, vea <a href="http://go.microsoft.com/fwlink/?LinkId=183664" target="_blank" alt=""><linkText xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">Tipos de datos y funciones de fecha y hora (Transact-SQL)</linkText></a>.</p>
          <p xmlns="">Se agrega el tipo <a href="20bbeacd-ccca-4a46-8184-ff941ae2ec5f.htm">Clase DateTimeOffset</a>, así como las funciones que le permiten tener acceso a los valores en una columna <b>datetimeoffset</b>:</p>
          <ul xmlns=""><li>
              
                <a href="7d9d7b05-582a-41df-b2c4-ec4a64d49752.htm">SQLServerCallableStatement.getDateTimeOffset</a>
              <br />
            </li><li>
              
                <a href="9383e14d-c83e-43c5-980c-50a3e0bedc31.htm">SQLServerCallableStatement.setDateTimeOffset</a>
              <br />
            </li><li>
              
                <a href="5014dba9-1755-4769-b070-6cbeecee864e.htm">SQLServerPreparedStatement.setDateTimeOffset</a>
              <br />
            </li><li>
              
                <a href="60ec0499-1c2a-4476-9e32-03b9d698fe54.htm">SQLServerResultSet.getDateTimeOffset</a>
              <br />
            </li><li>
              
                <a href="40d7fced-cce1-4534-b794-71bc735e53e0.htm">SQLServerResultSet.updateDateTimeOffset</a>
              <br />
            </li></ul>
        </content></div>
      <h1 class="heading" xmlns="">Configurar el modo en que los valores java.sql.Time se envían al servidor</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">Se agrega la propiedad de conexión <b>sendTimeAsDatetime</b>. <b>sendTimeAsDatetime</b> determina cómo se enviará al servidor un valor java.sql.Time, como un valor <b>time</b> o un valor <b>datetime</b> de SQL Server.</p>
          <p xmlns="">Para obtener más información sobre cómo utilizar la propiedad de conexión <b>sendTimeAsDatetime</b>, vea <a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Establecer las propiedades de conexión</a>.</p>
          <p xmlns="">Para obtener más información sobre cómo enviar al servidor los tipos java.sql.Time, vea <a href="07eb00dd-621a-46f9-a5a5-8cab4d6058b5.htm">Configurar el modo en que los valores java.sql.Time se envían al servidor</a>.</p>
          <p xmlns="">Puede modificar mediante programación el valor de la propiedad de conexión <b>sendTimeAsDatetime</b> con <a href="705a0494-b5e2-43db-940a-1b8cec550cdb.htm">SQLServerDataSource.setSendTimeAsDatetime</a>.</p>
        </content></div>
      <h1 class="heading" xmlns="">Compatibilidad total para las operaciones MERGE</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">Ahora, los métodos siguientes devuelven el número correcto de filas actualizado para una operación MERGE:</p>
          <ul xmlns=""><li>
              
                <a href="10ae662a-ce3c-4b24-875c-5c2df319d93b.htm">SQLServerStatement.executeUpdate</a>
              <br />
            </li><li>
              
                <a href="e9570228-4500-44b6-b2f1-84ac050b5112.htm">SQLServerStatement.getUpdateCount</a>
              <br />
            </li><li>
              
                <a href="677b0907-316e-40f2-a0d9-d4d0872c7f52.htm">SQLServerPreparedStatement.executeUpdate</a>
              <br />
            </li><li>
              SQLServerPreparedStatement.getUpdateCount (se hereda de SQLServerStatement)<br />
            </li><li>
              SQLServerCallableStatement.executeUpdate (se hereda de SQLServerPreparedStatement)<br />
            </li><li>
              SQLServerPreparedStatement.getUpdateCount (se hereda de SQLServerStatement)<br />
            </li></ul>
        </content></div>
      <h1 class="heading" xmlns="">Métodos getBytes, setBytes y updateBytes no admitidos con los tipos de fecha y hora</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">En el controlador JDBC 2.0 de Microsoft SQL Server, podría utilizar <a href="b6e88cea-54b3-4d18-a9af-db54abf19f45.htm">SQLServerCallableStatement.getBytes</a>, <a href="f264f1a6-ee35-4eaf-81d8-ecf99f03b35d.htm">SQLServerCallableStatement.setBytes</a>, <a href="d16a0aea-6144-4fcb-bcbc-5d7daa36d327.htm">SQLServerResultSet.getBytes</a> o <a href="3050c836-fbb3-4475-99e5-05637a48a932.htm">SQLServerResultSet.updateBytes</a> para convertir los valores entre las matrices de bytes y los tipos de datos <b>date</b>, <b>time</b>, <b>datetime2</b> o <b> datetimeoffset</b> de SQL Server. Al utilizar esos métodos con esos tipos de datos, en el controlador 3.0 de JDBC SQL Server, se producirá una excepción que indica que no se admite la conversión.</p>
        </content></div>
      <h1 class="heading" xmlns="">getObject devuelve un objeto de hora o de fecha</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">En el controlador JDBC 2.0 de Microsoft SQL Server, cuando utilizaba <a href="c5cc562f-2c5a-4fdb-a552-dfb08c2bf0ad.htm">SQLServerCallableStatement.getObject</a> o <a href="924df406-14b2-40b8-a7bc-c2fd145d7d7c.htm">SQLServerResultSet.getObject</a> para recuperar un valor de fecha de tipo date, time, datetime2 o datetimeoffset, se devolvía un objeto de tipo java.lang.String.</p>
          <p xmlns="">En el controlador JDBC 3.0 de SQL Server:</p>
          <ul xmlns=""><li>
              Un valor de tipo date se devolverá como un objeto java.sql.Date.<br />
            </li><li>
              Un valor de tipo time se devolverá como un objeto java.sql.Time.<br />
            </li><li>
              Un valor de tipo datetime2 se devolverá como un objeto java.sql.Timestamp.<br />
            </li><li>
              Un valor de tipo datetimeoffset se devolverá como un objeto microsoft.sql.DateTimeOffset.<br />
            </li></ul>
        </content></div>
      <h1 class="heading" xmlns="">Cambiar el comportamiento de la columna</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">SQLServerDatabaseMetaData.getColumns devolverá valores diferentes de las versiones anteriores del controlador para algunas columnas del controlador JDBC 3.0 de SQL Server. Vea <a href="f173fa5d-e114-4a37-a5c4-2baad9ff3af1.htm">SQLServerDatabaseMetaData.getColumns</a> para obtener más información.</p>
          <p xmlns="">Los siguientes métodos en SQLServerResultSetMetaData también incorporan cambios de comportamiento:</p>
          <ul xmlns=""><li>
              
                <a href="21c25443-bd2b-4b60-9798-4efe2c158952.htm">SQLServerResultSetMetaData.getColumnDisplaySize</a>
              <br />
            </li><li>
              
                <a href="81815a41-9265-4574-a4d8-f6341a68d9fd.htm">SQLServerResultSetMetaData.getColumnType</a>
              <br />
            </li><li>
              
                <a href="a444da82-c1af-40a5-9774-02476416c92c.htm">SQLServerResultSetMetaData.getColumnTypeName</a>
              <br />
            </li><li>
              
                <a href="fe29aa5f-4cc5-413f-8bbd-a58064993d87.htm">SQLServerResultSetMetaData.getScale</a>
              <br />
            </li></ul>
        </content></div>
      <h1 class="heading" xmlns="">Interfaces</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">Se agregaron las siguientes interfaces:</p>
          <ul xmlns=""><li>
              
                <a href="030a1631-cfcd-41e0-beb5-47f93c01e8e0.htm">ISQLServerCallableStatement</a>
              <br />
            </li><li>
              
                <a href="031c01e2-2c65-4fe4-9700-fdbcc7a39f30.htm">ISQLServerConnection</a>
              <br />
            </li><li>
              
                <a href="ba1d3242-19ca-4321-83fe-867a4f69f1d4.htm">ISQLServerDataSource</a>
              <br />
            </li><li>
              
                <a href="cf87892e-5c34-4ac6-8258-c2a81e117b26.htm">ISQLServerPreparedStatement</a>
              <br />
            </li><li>
              
                <a href="002496f7-8ec0-4267-b4e6-ba095e2ef306.htm">ISQLServerResultSet</a>
              <br />
            </li><li>
              
                <a href="7f83b514-6e76-4f37-baf3-a10db2010e7c.htm">ISQLServerStatement</a>
              <br />
            </li></ul>
          <p xmlns="">Para obtener más información, vea <a href="27fc9b72-9f21-4728-abcb-5c015f28a6ab.htm">Contenedores e interfaces</a>.</p>
        </content></div>
      <h1 class="heading" xmlns="">Intención de dejar de utilizar los constructores de clase</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">En el controlador JDBC 3.0 de SQL Server, Microsoft anuncia su intención de dejar de utilizar en una versión futura los constructores en diversas clases. Microsoft no desea que los desarrolladores de software creen directamente instancias de las instancias de estos tipos.</p>
          <p xmlns="">Los constructores para estas clases no se dejan de utilizar en la versión 3.0 del controlador JDBC de SQL Server.</p>
          <p xmlns="">En el controlador JDBC 3.0 de SQL Server, las clases siguientes tienen interfaces asociadas. Si necesita tener acceso al método o constante específicos del controlador, utilice la interfaz en lugar de la clase:</p>
          <ul xmlns=""><li>
              
                <a href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">Clase SQLServerCallableStatement</a> (la interfaz que le corresponde es <a href="030a1631-cfcd-41e0-beb5-47f93c01e8e0.htm">Interfaz ISQLServerCallableStatement</a>)<br />
            </li><li>
              
                <a href="937292a6-1525-423e-a2b2-a18fd34c2893.htm">Clase SQLServerConnection</a> (la interfaz que le corresponde es <a href="031c01e2-2c65-4fe4-9700-fdbcc7a39f30.htm">Interfaz de ISQLServerConnection</a>)<br />
            </li><li>
              
                <a href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">Clase SQLServerPreparedStatement</a> (la interfaz que le corresponde es <a href="cf87892e-5c34-4ac6-8258-c2a81e117b26.htm">Interfaz ISQLServerPreparedStatement</a>)<br />
            </li><li>
              
                <a href="eaffcff1-286c-459f-83da-3150778480c9.htm">Clase SQLServerResultSet</a> (la interfaz que le corresponde es <a href="002496f7-8ec0-4267-b4e6-ba095e2ef306.htm">Interfaz ISQLServerResultSet</a>)<br />
            </li><li>
              
                <a href="ec24963c-8b51-4838-91e9-1fbfa2347451.htm">Clase SQLServerStatement</a> (la interfaz que le corresponde es <a href="7f83b514-6e76-4f37-baf3-a10db2010e7c.htm">Interfaz ISQLServerStatement</a>)<br />
            </li></ul>
          <p xmlns="">Los constructores de las siguientes clases se dejarán de utilizar en una versión futura y no tienen interfaces asociadas porque estas clases no exponen funciones específicas de SQL Server:</p>
          <ul xmlns=""><li>
              
                <a href="8b8049d0-8c6d-4476-866b-098709f37eec.htm">SQLServerDatabaseMetaData</a>
              <br />
            </li><li>
              
                <a href="af5ef257-7cf6-4db3-b1ee-07d22d82bef1.htm">SQLServerException</a>
              <br />
            </li><li>
              
                <a href="546290e0-9411-4a2b-aa36-61251e70e9cf.htm">SQLServerParameterMetaData</a>
              <br />
            </li><li>
              
                <a href="4c87e9d3-904a-4b86-90cc-3684034c86ee.htm">SQLServerPooledConnection</a>
              <br />
            </li><li>
              
                <a href="9a36885f-83f3-44af-85f0-2b849dfd20d4.htm">SQLServerResultSetMetaData</a>
              <br />
            </li><li>
              
                <a href="1ae7db7b-959f-4142-8d9f-aa427869c6ac.htm">SQLServerSavepoint</a>
              <br />
            </li><li>
              
                <a href="5ecb4bf1-b8d1-47cf-9cb1-7a18acc11ce2.htm">SQLServerXAConnection</a>
              <br />
            </li></ul>
        </content></div>
      <h1 class="heading" xmlns="">SQLServerDataSource.getReference (ya no contiene la contraseña) o trustStorePassword</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">Antes del controlador JDBC 3.0, si se llamaba a <a href="0db06631-5e68-488c-a9f1-6e5052c0759d.htm">SQLServerDataSource.setPassword</a> en un objeto <b>SQLServerDataSource</b>, la contraseña aparecería en el objeto que devuelve <a href="b3fb1a97-86ee-4977-adca-c35ae199dbb3.htm">SQLServerDataSource.getReference</a>, lo cual hacía posible utilizar el objeto para realizar conexiones adicionales. Con el controlador JDBC 3.0, se necesitará establecer la contraseña en el objeto que devuelve <b>SQLServerDataSource.getReference</b> antes de realizar las conexiones con el objeto.</p>
          <p xmlns="">También, si establece <a href="fa87cbde-71cc-4f21-bc07-f8ba2b6a0a3f.htm">SQLServerDataSource.setTrustStorePassword</a> antes de enlazar las propiedades de origen de datos, deberá llamar a <b>SQLServerDataSource.setTrustStorePassword</b> antes de obtener la conexión. Para obtener más información, vea <b>SQLServerDataSource.getReference</b>.</p>
        </content></div>
      <h1 class="heading" xmlns="">Compatibilidad con columnas dispersas</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">El controlador JDBC 3.0 de SQL Server admite columnas dispersas al conectar a un servidor SQL Server 2008 (o versiones posteriores). Para obtener más información, vea <a href="7d4237e0-818f-4639-9093-d5ac9683fc71.htm">Columnas dispersas</a>.</p>
        </content></div>
      <h1 class="heading" xmlns="">Tipos definidos por el usuario (UDT) grandes</h1><div id="sectionSection" class="section" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
          <p xmlns="">Se ha agregado compatibilidad para UDT que superen los 8 kilobytes. Para obtener más información, vea <a href="19a71b27-b788-43a3-a76d-fe3001a6f016.htm">Tipos definidos por el usuario</a>.</p>
        </content></div>
    </sections></div><span id="seeAlsoSpan"><h1 class="heading">Vea también</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection"><a href="939a8773-2583-49a4-bf00-6b892fbe39dc.htm">Introducción al controlador JDBC</a><br /><br /></div><!--[if gte IE 5]>
			<tool:tip element="seeAlsoToolTip" avoidmouse="false"/><tool:tip element="languageFilterToolTip" avoidmouse="false"/><tool:tip element="roleInfoSpan" avoidmouse="false"/>
		<![endif]-->
      <div id="footer" class="section">
        
		<hr />
		
		<span id="fb" class="feedbackcss">
			
			
		</span>
		
		<a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">
			
			© 2010 Microsoft Corporation. Reservados todos los derechos.
		</a>
 	
	
      </div>
    </div>
  </body>
</html>